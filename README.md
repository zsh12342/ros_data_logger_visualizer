# ROS Data Logger & Visualizer

æœ¬é¡¹ç›®ç”¨äºè®¢é˜… ROS ä¸­çš„ä»»æ„è¯é¢˜ï¼Œè‡ªåŠ¨è®°å½•æ¶ˆæ¯æ•°æ®ä¸º CSV æ–‡ä»¶ï¼Œå¹¶æä¾›å®æ—¶å¯è§†åŒ–åŠŸèƒ½ï¼Œæ–¹ä¾¿æœºå™¨äººè°ƒè¯•ä¸æ•°æ®åˆ†æã€‚

## âœ¨ åŠŸèƒ½ç‰¹æ€§

- âœ… æ”¯æŒè‡ªå®šä¹‰è®¢é˜…è¯é¢˜åŠå­—æ®µ
- âœ… å®æ—¶è®°å½•æ•°æ®å¹¶ä¿å­˜ä¸º CSV
- âœ… æ”¯æŒç®€å•å¼‚å¸¸å€¼å‰”é™¤ï¼ˆå¦‚NaN/çªå˜ï¼‰
- âœ… å¯è§†åŒ–æŒ‡å®šå­—æ®µéšæ—¶é—´å˜åŒ–çš„æ›²çº¿
- âœ… æ”¯æŒé€šè¿‡YAMLé…ç½®æ–‡ä»¶æŒ‡å®šè¯é¢˜åŠå‚æ•°

## ğŸš€ ä½¿ç”¨æ–¹å¼

1. ä¿®æ”¹ `config/topic_config.yaml` æŒ‡å®šè®¢é˜…è¯é¢˜åã€å­—æ®µç­‰å‚æ•°
2. å¯åŠ¨ ROS æ ¸å¿ƒï¼š

```bash
roscore
```

3. å¯åŠ¨æ•°æ®è®°å½•èŠ‚ç‚¹ï¼š

```bash
rosrun ros_data_logger_visualizer data_logger.py
```

æˆ–ç›´æ¥ç”¨ Python è¿è¡Œï¼ˆéœ€å·² source å·¥ä½œç©ºé—´ï¼‰ï¼š

```bash
python3 scripts/data_logger.py
```

4. è¿è¡Œåä¼šåœ¨ `output/` ç›®å½•ä¸‹è‡ªåŠ¨ç”Ÿæˆ CSV æ–‡ä»¶ï¼Œå¹¶å¼¹å‡ºå®æ—¶æ›²çº¿çª—å£ã€‚

> **æ³¨æ„ï¼š**
> - å¦‚éœ€è®¢é˜…è‡ªå®šä¹‰æ¶ˆæ¯ç±»å‹ï¼ˆå¦‚ kuavo_msgsï¼‰ï¼Œå¿…é¡»ä¿è¯è¯¥æ¶ˆæ¯åŒ…å·²åœ¨åŒä¸€ catkin å·¥ä½œç©ºé—´ä¸‹ï¼Œå¹¶å·²æˆåŠŸç¼–è¯‘ã€‚
> - æ¯æ¬¡æ–°å¼€ç»ˆç«¯è¿è¡Œå‰ï¼ŒåŠ¡å¿…æ‰§è¡Œ `source devel/setup.bash`ï¼ˆæˆ– `source devel/setup.zsh`ï¼‰ï¼Œå¦åˆ™ä¼šå‡ºç° `ModuleNotFoundError: No module named 'xxx_msgs'`ã€‚
> - æ¨èä½¿ç”¨ rosrun/roslaunch å¯åŠ¨èŠ‚ç‚¹ã€‚

## âš™ï¸ é…ç½®è¯´æ˜

`config/topic_config.yaml` ç¤ºä¾‹ï¼š

```yaml
topic_name: "/your_topic_name"
msg_type: "std_msgs/Float32MultiArray"
fields:
  - "data[0]"
  - "data[1]"
rate: 10
```

- `topic_name`ï¼šè¦è®¢é˜…çš„ ROS è¯é¢˜å
- `msg_type`ï¼šæ¶ˆæ¯ç±»å‹ï¼ˆå¦‚ std_msgs/Float32MultiArrayï¼‰
- `fields`ï¼šè¦è®°å½•çš„å­—æ®µï¼ˆæ”¯æŒåµŒå¥—ï¼Œå¦‚ header.stampï¼‰
- `rate`ï¼šé‡‡æ ·é¢‘ç‡ï¼ˆHzï¼‰

## ğŸ›¡ï¸ å¼‚å¸¸å€¼å‰”é™¤

- è‡ªåŠ¨å‰”é™¤ NaNã€infã€ä»¥åŠä¸å‰ä¸€å¸§å·®å¼‚è¿‡å¤§çš„å¼‚å¸¸å€¼ï¼ˆå¯åœ¨ä»£ç ä¸­è°ƒæ•´é˜ˆå€¼ï¼‰

## ğŸ–¥ï¸ ä¾èµ–å®‰è£…

```bash
pip install -r requirements.txt
```

## ğŸ“ ç›®å½•ç»“æ„

```
ros_data_logger_visualizer/
â”œâ”€â”€ config/
â”‚   â””â”€â”€ topic_config.yaml
â”œâ”€â”€ launch/
â”‚   â””â”€â”€ data_logger.launch
â”œâ”€â”€ output/
â”œâ”€â”€ scripts/
â”‚   â””â”€â”€ data_logger.py
â”œâ”€â”€ requirements.txt
â””â”€â”€ README.md
```

## ğŸ§© å…¶ä»–

- æ”¯æŒè‡ªå®šä¹‰æ¶ˆæ¯ç±»å‹ï¼ˆéœ€å·²ç¼–è¯‘å¯¹åº” ROS msgï¼Œä¸”å·² source å·¥ä½œç©ºé—´ï¼‰
- å¯æ ¹æ®éœ€è¦æ‰©å±•å¼‚å¸¸å€¼å¤„ç†ã€å¯è§†åŒ–ç­‰åŠŸèƒ½
